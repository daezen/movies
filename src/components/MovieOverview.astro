---
import Close from '../icons/Close.astro'
import Play from '../icons/Play.astro'
import Plus from '../icons/Plus.astro'
import AgeRating from './AgeRating.astro'
import Dot from './Dot.astro'
import Likes from './Likes.astro'
---

<div data-shadow class="fixed z-[98] bg-black/80 w-full h-full backdrop-blur-md hidden"></div>
<div data-overview class="absolute justify-center items-end w-screen pt-4 z-[99] hidden">
  <article class="w-[916px] bg-zinc-900 rounded-3xl overflow-hidden">
    <div class="relative">
      <section class="flex flex-col aspect-video w-full bg-center bg-cover">
        <img src="placeholder.png" alt="" class="absolute aspect-video mask-image" />
        <div class="flex justify-end size-8 w-full h-[72px] p-4 z-[99]">
          <button data-close class="rounded-full bg-zinc-950/75 backdrop-blur-xl p-1"><Close /></button>
        </div>
        <div class="flex-1 flex items-end">
          <div class="py-16 px-12 mx-1 flex gap-2">
            <button class="relative overflow-hidden custom-hover gradient-one bg-rose-600 flex items-center justify-center gap-4 text-2xl w-[165px] h-[45px] py-1 rounded-full border-2 border-rose-500"
              ><Play />Trailer</button
            >
            <button
              class="relative overflow-hidden custom-hover gradient-one border-zinc-100/25 bg-zinc-100/10 flex items-center justify-center gap-4 text-2xl size-11 py-1 rounded-full border-2 border-rose-500 backdrop-blur-xl"
              ><Plus /></button
            >
          </div>
        </div>
      </section>
    </div>
    <section class="px-12 flex">
      <div>
        <div class="flex-1 py-5 flex gap-2">
          <Likes rating="89" />
          <Dot />
          <p>1986</p>
          <Dot />
          <AgeRating rating="R" />
          <Dot />
          <p>1 hour</p>
        </div>
        <p class="max-w-[780px]">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Animi maxime fugit expedita distinctio eveniet id? Incidunt consequuntur deserunt modi commodi perferendis quo corrupti non ex
          molestias quam, laboriosam est enim aut adipisci temporibus obcaecati exercitationem asperiores maiores libero ad illo.
        </p>
      </div>
      <div class="text-sm py-2 flex flex-col gap-4">
        <p><span class="text-zinc-500">Cast: </span>Matthew Broderick, Alan Ruck, Mia Sara, <a href="#" class="italic">more</a></p>
        <p><span class="text-zinc-500">Genres: </span>Teen Movies, Classic Movies, Comedies</p>
      </div>
    </section>
    <div class="px-12 py-14 text-2xl font-bold">
      <p class="mb-4">More Like This</p>
      <div class="flex justify-between">
        <div>
          <img src="
          placeholder.png" alt="placeholder" class="aspect-video h-36 rounded-md" />
        </div>
        <div>
          <img src="
          placeholder.png" alt="placeholder" class="aspect-video h-36 rounded-md" />
        </div>
        <div>
          <img src="
          placeholder.png" alt="placeholder" class="aspect-video h-36 rounded-md" />
        </div>
      </div>
    </div>
  </article>
</div>

<style>
  .mask-image {
    mask-image: linear-gradient(to top, transparent, black 50%);
  }
</style>

<script>
  import { qs, $on } from '../lib/helpers.js'
  import { locationHandler } from '../lib/locationHandler'

  const $close = qs('[data-close]')
  $on($close, 'click', async () => {
    history.pushState({}, '', '/')
    await locationHandler()
  })
</script>
